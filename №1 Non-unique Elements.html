<meta charset="utf-8">
<script type="text/javascript">

//Дан непустой массив целых чисел (X). В этой задаче вам нужно вернуть массив, состоящий только из неуникальных элементов данного массива. Для этого необходимо удалить все уникальные элементы (которые присутствуют в данном массиве только один раз). Для решения этой задачи не меняйте оригинальный порядок элементов. Пример: [1, 2, 3, 1, 3], где 1 и 3 неуникальные элементы и результат будет [1, 3, 1, 3].
	
	/*var newList = [];
	function nonUniqueElements (arr){
		
		for (i=0;i<arr.length;i++){
			var x = 0;
			
			do{
				var exclusive = 0;
				if (i==x){
					x++;
					continue;
				} else{
					if (arr[i]==arr[x]){
						exclusive=1;
						break;
					} else x++;
				}
			} while (exclusive==0&&x!=arr.length);
			if (exclusive==1) {
				newList.push(arr[i]);
			}
		}
		return newList;
	}
	var newlist = nonUniqueElements ([1,2,3,2,4,5,1,7,5]);
	
	alert(newList);*/

	// КРУТОЙ ВАРИАНТ РЕШЕНИЯ
	/*var list = {};
	var newList = [];
	function nonUniqueElements (array) {
		array.forEach(function(item) {
			list[item] = ((list[item]) || 0) + 1;  //array.forEach(item => list[item] = ((list[item])||0) + 1); То же самое!
		})
		array.forEach(function(item,i) {
			if (list[item] > 1) {
				newList.push(array[i]);          //array.forEach(k =>{ if(list[k]>1){ newList.push(k);}}); То же самое!!!
			}
		})
		return newList;
	}
	alert(nonUniqueElements([1,2,3,2,4,5,1,7,5]));*/

	// ЕЩЕ БОЛЕЕ КОРОТКИЙ ВАРИАНТ РЕШЕНИЯ
	function nonUniqueElements (array) {
		var newList = [];
		array.forEach(function(elem, i, arr) {
			if (arr.includes(elem, i+1) || newList.some((x) => x == elem)) {
				newList.push(elem);
			}
		});
		return newList;
	}

	alert ( nonUniqueElements ([1,2,3,2,4,5,1,7,5]) );
	



</script>